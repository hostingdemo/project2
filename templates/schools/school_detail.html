{% extends 'base.html' %}
{% load static %}
{% load str_to_arr %}
{% block title %}Details - {{ school.school_name }}{% endblock %}

{% block style %}
<style>
    .review-card {
        position: relative;
    }
    .del-review-btn {
        position: absolute;
        top: 1em;
        right: 1em;
        transform: scale(.8);
    }
</style>
{% endblock %}
{% block body %}

<!-- hero section start -->
<section class="school-name-hero pt-4">
    <div class="container">
        <div class="text-white">
            <nav aria-label="breadcrumb" class="d-inline">
                <ul class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="{% url 'home' %}" class="text-link text-info">Home</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="{% url 'explore' %}" class="text-link text-info">Explore</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="{% url 'school_details' school.id %}" class="text-link text-info">{{school.school_name}}</a>
                    </li>
                </ul>
            </nav>
        </div>

        <div class="card d-inline-flex flex-row flex-no-wrap border-0 text-white" style="background: transparent">
            <div class="p-3 d-flex justify-content-center align-items-center">
                <img src="{% static 'assets/explore-page/school-logo.png' %}" alt="school-logo" class="school-logo">
            </div>
            <div class="d-flex flex-column justify-content-center align-items-start">
                <h4 class="fw-700 ">{{ school.school_name }}</h4>
                <p class="d-flex align-items-top gap-3">
                    <span><i class="fas fa-map-marker-alt"></i></span>
                    <span style="display:block; max-width: 70%;">{{ school.address }}</span>
                </p>
            </div>
        </div>
    </div>
</section>
<!-- hero section end -->


<!-- tabs start -->
<div class="container fm-quicksand">

    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link link fw-500" id="about-tab" data-toggle="tab" href="#about" role="tab"
                aria-controls="about" aria-selected="true">About</a>
        </li>
        <li class="nav-item">
            <a class="nav-link link fw-500" id="admission-tab" data-toggle="tab" href="#admission" role="tab"
                aria-controls="admission" aria-selected="false">Admission & Fees</a>
        </li>
        <li class="nav-item">
            <a class="nav-link link fw-500 active" id="infrastrucure-tab" data-toggle="tab" href="#infrastrucure" role="tab"
                aria-controls="infrastrucure" aria-selected="false">Infrastrucure & Facilities</a>
        </li>
        <li class="nav-item">
            <a class="nav-link link fw-500" id="extra-tab" data-toggle="tab" href="#extra" role="tab"
                aria-controls="extra" aria-selected="false">Extra Curricular</a>
        </li>
        <li class="nav-item">
            <a class="nav-link link fw-500" id="academics-tab" data-toggle="tab" href="#academics" role="tab"
                aria-controls="academics" aria-selected="false">Academics</a>
        </li>
        <li class="nav-item">
            <a class="nav-link link fw-500" id="reviews-tab" data-toggle="tab" href="#reviews" role="tab"
                aria-controls="reviews" aria-selected="true">Reviews</a>
        </li>
        <li class="nav-item">
            <a class="nav-link link fw-500" id="contact-tab" data-toggle="tab" href="#contact" role="tab"
                aria-controls="contact" aria-selected="false">Contact</a>
        </li>
    </ul>

    <div class="tab-content" id="myTabContent">

        <!-- school review tab starts -->
        <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12 col-md-8 my-5 p-3 rounded" style="background: #FFF4E3;">
                        <h2 class="underline d-inline-block fw-700">Reviews</h2>

                        <div class="row mt-5">
                            <div class="col-12 col-md-4 justify-content-center d-flex align-items-center">
                                <div>
                                    <div
                                        class="review-rect bg-wine-berry d-flex text-white flex-column justify-content-center align-items-center">
                                        <h1 class="m-0">5.0</h1>
                                        <small>out of 5</small>
                                    </div>
                                    <div class="d-flex justify-content-evenly">
                                        <div class="align-middle mt-2 bg-wine-berry rating-star">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                        <div class="align-middle mt-2 bg-wine-berry rating-star">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                        <div class="align-middle mt-2 bg-wine-berry rating-star">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                        <div class="align-middle mt-2 bg-wine-berry rating-star">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                        <div class="align-middle mt-2 bg-wine-berry rating-star">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                    </div>
                                    <h5 class="mt-2 text-center">LOREM IPSUM</h5>
                                </div>
                            </div>
                            <div class="col-12 col-md-8">
                                <div class="d-flex gap-2 align-items-center">
                                    <div><i class="fas fa-star"></i></div>
                                    <h6 class="mt-2 fw-700">5</h6>
                                    <div class="progress" style="height: 10px; width: 100%;">
                                        <div class="progress-bar bg-wine-berry" role="progressbar" style="width: 25%;"
                                            aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h6 class="mt-2 fw-700">100%</h6>
                                </div>
                                <div class="d-flex gap-2 align-items-center">
                                    <div><i class="fas fa-star"></i></div>
                                    <h6 class="mt-2 fw-700">5</h6>
                                    <div class="progress" style="height: 10px; width: 100%;">
                                        <div class="progress-bar bg-wine-berry" role="progressbar" style="width: 25%;"
                                            aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h6 class="mt-2 fw-700">100%</h6>
                                </div>
                                <div class="d-flex gap-2 align-items-center">
                                    <div><i class="fas fa-star"></i></div>
                                    <h6 class="mt-2 fw-700">5</h6>
                                    <div class="progress" style="height: 10px; width: 100%;">
                                        <div class="progress-bar bg-wine-berry" role="progressbar" style="width: 25%;"
                                            aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h6 class="mt-2 fw-700">100%</h6>
                                </div>
                                <div class="d-flex gap-2 align-items-center">
                                    <div><i class="fas fa-star"></i></div>
                                    <h6 class="mt-2 fw-700">5</h6>
                                    <div class="progress" style="height: 10px; width: 100%;">
                                        <div class="progress-bar bg-wine-berry" role="progressbar" style="width: 25%;"
                                            aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h6 class="mt-2 fw-700">100%</h6>
                                </div>
                                <div class="d-flex gap-2 align-items-center">
                                    <div><i class="fas fa-star"></i></div>
                                    <h6 class="mt-2 fw-700">5</h6>
                                    <div class="progress" style="height: 10px; width: 100%;">
                                        <div class="progress-bar bg-wine-berry" role="progressbar" style="width: 25%;"
                                            aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h6 class="mt-2 fw-700">100%</h6>
                                </div>

                            </div>
                        </div>


                        <div class="mt-3">
                            <h5 class="mb-0 fw-700">RATE YOUR EXPERIENCE</h5>
                            <div id="review-msg"></div>
                            <div class="d-inline-flex justify-content-evenly gap-2 ms-2 mb-3">
                                <div class="align-middle mt-2 bg-wine-berry rating-star score" data-score="1">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                                <div class="align-middle mt-2 bg-wine-berry rating-star inactive score" data-score="2">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                                <div class="align-middle mt-2 bg-wine-berry rating-star inactive score" data-score="3">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                                <div class="align-middle mt-2 bg-wine-berry rating-star inactive score" data-score="4">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                                <div class="align-middle mt-2 bg-wine-berry rating-star inactive score" data-score="5">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                            </div>

                            <form id="rating-form" class="d-flex flex-column gap-3 mb-3" method="POST">
                                <input type="hidden" name="rating" id="rating" value="1">
                                <textarea rows="3" name="comment"></textarea>
                                <div class="d-block">
                                    {% if request.user.is_authenticated %}
                                    <button type="submit"
                                        class="btn btn-sm bg-wine-berry text-white fw-700">Submit</button>
                                    {% else %}
                                    <button class="btn btn-sm bg-wine-berry text-white fw-700" type="button"
                                        data-toggle="modal" data-target="#signinModal">Submit</button>
                                    {% endif %}
                                </div>
                            </form>
                        </div>

                        <h5 class="mt-5 fw-700">School Reviews</h5>
                        <div id="reviews-card"></div>

                        <div class="text-center" id="load-more">
                            <button class="btn btn-sm btn-primary rounded-pill" id="btn-load-more">Load more</button>
                        </div>
                        {% comment %}
                        {% for obj in school_reviews %}
                        {% if obj.status %}
                        <div class="review-card shadow-sm p-3 bg-light rounded mb-3">
                            <div class="d-flex gap-2 mb-2">
                                <div class="align-middle bg-placeholder rounded" style="height: 70px; width: 70px;">
                                    <h2 class="fw-700 m-0 p-0">{{ obj.user.email|make_list|first}}</h2>
                                </div>
                                <div>
                                    <h5 class="mb-0">{{obj.user.email}}</h5>
                                    <small class="fw-500 text-muted">Wropte on {{ obj.created_at }}</small>
                                    <p class="mb-0">{{ obj.comment }}</p>
                                </div>
                            </div>

                            <div class="d-inline-flex justify-content-evenly gap-2">
                                <div
                                    class="align-middle mt-2 bg-wine-berry rating-star {% if obj.rating < 1 %}inactive{% endif %}">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                                <div
                                    class="align-middle mt-2 bg-wine-berry rating-star {% if obj.rating < 2 %}inactive{% endif %}">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                                <div
                                    class="align-middle mt-2 bg-wine-berry rating-star {% if obj.rating < 3 %}inactive{% endif %}">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                                <div
                                    class="align-middle mt-2 bg-wine-berry rating-star {% if obj.rating < 4 %}inactive{% endif %}">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                                <div
                                    class="align-middle mt-2 bg-wine-berry rating-star {% if obj.rating < 5 %}inactive{% endif %}">
                                    <i class="fas fa-star text-white"></i>
                                </div>
                            </div>
                        </div>
                        {% else %}
                        <p>No reviews :(</p>
                        {% endif %}
                        {% empty %}
                        <p>No reviews :(</p>
                        {% endfor %}
                        {% endcomment %}
                    </div>
                    <div class="col-12 col-md-4 d-flex flex-column justify-content-end">
                        <img src="{% static 'assets/school-name-page/school-review.png' %}" alt="school-reviews"
                            class="mb-5">
                    </div>
                </div>
            </div>
        </div>
        <!-- school review tab ends -->

        <!-- about tab starts -->
        <div class="tab-pane fade" id="about" role="tabpanel" aria-labelledby="about-tab">
            <section class="p-0">
                <div style="background: #FFF4E3;" class="py-5 px-4">
                    <p class="fw-500">Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores temporibus
                        sequi quas
                        voluptatem iste accusantium. Perspiciatis illo non explicabo, reprehenderit odio corrupti
                        aperiam eius! Molestiae, nam? Aut hic error a.
                        Ullam quae quasi earum quam incidunt nulla qui doloremque totam porro atque quia odit,
                        praesentium eligendi laborum soluta nesciunt magni dolore ad est repudiandae similique
                        inventore amet maxime beatae! Eveniet!
                        Laboriosam, saepe? Labore ea nulla facilis assumenda expedita adipisci ratione est
                        blanditiis officiis asperiores? Quae voluptatibus facilis deleniti voluptas ea perferendis
                        accusantium asperiores beatae. Ipsam nam neque ipsum deleniti laudantium!
                    </p>

                    <h5 class="fw-700 mt-5">Basic facts about {{school.school_name}}</h5>
                    <div class="grid-3 mb-4">

                        <!-- school owner -->
                        <div class="d-flex flex-row gap-3 align-items-center my-2">
                            <img height="48px" width="48px"
                                src="{% static 'assets/school-name-page/school-type.svg' %}">
                            <div>
                                <h6 class="fw-700 text-muted">Ownership</h6>
                                <h6 class="fw-700">{{ school.ownership }} School</h6>
                            </div>
                        </div>

                        <!-- Board -->
                        <div class="d-flex flex-row gap-3 align-items-center my-2">
                            <img height="48px" width="48px"
                                src="{% static 'assets/school-name-page/establish-badge.svg' %}">
                            <div>
                                <h6 class="fw-700 text-muted">Board</h6>
                                <h6 class="fw-700">
                                    {{ school.board }}
                                </h6>
                            </div>
                        </div>

                        <!-- Established Year -->
                        <div class="d-flex flex-row gap-3 align-items-center my-2">
                            <img height="48px" width="48px"
                                src="{% static 'assets/school-name-page/establish-badge.svg' %}">
                            <div>
                                <h6 class="fw-700 text-muted">Established Year</h6>
                                <h6 class="fw-700">{{ sd.year_of_establishment|slice:":4" }}</h6>
                            </div>
                        </div>

                        <!-- co-ed status -->
                        <div class="d-flex flex-row gap-3 align-items-center my-2">
                            <img height="48px" width="48px"
                                src="{% static 'assets/school-name-page/establish-badge.svg' %}">
                            <div>
                                <h6 class="fw-700 text-muted">co Ed-Status</h6>
                                <h6 class="fw-700">{{ school.co_ed_status }}</h6>
                            </div>
                        </div>

                        <!-- campus size -->
                        <div class="d-flex flex-row gap-3 align-items-center my-2">
                            <img height="48px" width="48px" src="{% static 'assets/school-name-page/management.svg' %}">
                            <div>
                                <h6 class="fw-700 text-muted">campus size</h6>
                                <h6 class="fw-700">{{ sd.campus_size}}</h6>
                            </div>
                        </div>

                        <!-- campus type -->
                        <div class="d-flex flex-row gap-3 align-items-center my-2">
                            <img height="48px" width="48px"
                                src="{% static 'assets/school-name-page/establish-badge.svg' %}">
                            <div>
                                <h6 class="fw-700 text-muted">Campus Type</h6>
                                <h6 class="fw-700">{{ sd.campus_type }}</h6>
                            </div>
                        </div>
                    </div>
                    <p class="fw-500">Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores temporibus
                        sequi quas
                        voluptatem iste accusantium. Perspiciatis illo non explicabo, reprehenderit odio corrupti
                        aperiam eius! Molestiae, nam? Aut hic error a.
                        Ullam quae quasi earum quam incidunt nulla qui doloremque totam porro atque quia odit,
                        praesentium eligendi laborum soluta nesciunt magni dolore ad est repudiandae similique
                        inventore amet maxime beatae! Eveniet!
                        Laboriosam, saepe? Labore ea nulla facilis assumenda expedita adipisci ratione est
                        blanditiis officiis asperiores? Quae voluptatibus facilis deleniti voluptas ea perferendis
                        accusantium asperiores beatae. Ipsam nam neque ipsum deleniti laudantium!
                    </p>
                </div>
            </section>
        </div>
        <!-- about tab ends -->

        <!-- admission tab starts -->
        <div class="tab-pane fade" id="admission" role="tabpanel" aria-labelledby="admission-tab">
            <section class="p-0">
                <div style="background: #FFF4E3;" class="py-5 px-4">
                    <h4 class="fw-700 text-center">ADMISSION DETAILS</h4>

                    <p class="fw-500">
                        The School has students enrolled from Nursery to !2 . Find below the admission schedule,
                        procedure, Contact Details, documents required and instructions for parents for SCHOOL NAME,
                        City Admission.
                        <br><br>
                        In this section, we will answer the common questions like What is the admission process like
                        and what are the key dates? Is their any admission test? Will School also hold an interview
                        or an interaction? What is the age criterion for admission to SCHOOL NAME, CIty for the
                        upcoming academic year?
                    </p>

                    <h5 class="fw-700">Age Criteria</h5>
                    <p class="fw-500">Age criteria of various programs offered at school. Each program has a
                        specific age criteria and it is as follows</p>
                    <ul>
                        <li>Lorem ipsum dolor sit amet</li>
                        <li>Lorem ipsum dolor sit amet</li>
                        <li>Lorem ipsum dolor sit amet</li>
                        <li>Lorem ipsum dolor sit amet</li>
                        <li>Lorem ipsum dolor sit amet</li>
                    </ul>

                    <h4 class="fw-700 text-center mt-5">FEES DETAILS</h4>
                    <p class="fw-500">SCHOOL NAME Fees: Fee Structure & Details
                        Refer below for SCHOOL NAME, CITY fee structure and current fees</p>
                </div>
            </section>
        </div>
        <!-- admission tab ends -->

        <!-- infrastrucure tab starts -->
        <div class="tab-pane fade show active" id="infrastrucure" role="tabpanel" aria-labelledby="infrastrucure-tab">
            <section class="p-0">
                <div style="background: #FFF4E3;" class="py-5 px-4">
                    <p class="fw-500">
                        The Sri Venkateshwara Kids, Ayanavaram campus is spread over acres of land in Ayanavaram
                        area of
                        Chennai, Tamil Nadu. The School is a Day School. The School's infrastructure includes but is
                        not
                        limited to:
                    </p>

                    <!-- class facilities start -->
                    <div class="features my-5">
                        <div class="features-title d-flex justify-content-between align-items-center">
                            <h5 class="fw-700">CLASS FACILITIES</h5>
                            <!-- <h5>(2/4)</h5> -->
                        </div>
                        <div class="feature-border"></div>
                        <div class="feature-list mt-4 grid-responsive">

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.ac_classes %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">AC Classes</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.smart_classes %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Smart classes</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.wifi %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Wifi</span>
                            </div>

                        </div>
                    </div>
                    <!-- class facilities end -->

                    <!-- boarding facilities start -->
                    <div class="features my-5">
                        <div class="features-title d-flex justify-content-between align-items-center">
                            <h5 class="fw-700">BOARDING FACILITIES</h5>
                            <!-- <h5>(2/4)</h5> -->
                        </div>
                        <div class="feature-border"></div>
                        <div class="feature-list mt-4 grid-responsive">
                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.boys_hostel %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Boys hostel</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.girls_hostel %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Girls hostel</span>
                            </div>
                        </div>
                    </div>
                    <!-- boarding facilities start -->

                    <!-- infrastructure facilities start -->
                    <div class="features my-5">
                        <div class="features-title d-flex justify-content-between align-items-center">
                            <h5 class="fw-700">INFRASTRUCTURE</h5>
                            <!-- <h5>(2/4)</h5> -->
                        </div>
                        <div class="feature-border"></div>
                        <div class="feature-list mt-4 grid-responsive">
                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.auditorium_media_room %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Auditorium / media room</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.cafeteria_canteen %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Cafeteria Canteen</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.library_reading_room %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Library / Reading room</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.playground %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Playground</span>
                            </div>
                        </div>
                    </div>
                    <!-- infrastructure facilities start -->

                    <!-- Safty and security facilities start -->
                    <div class="features my-5">
                        <div class="features-title d-flex justify-content-between align-items-center">
                            <h5 class="fw-700">SAFTY & SECURITY</h5>
                            <!-- <h5>(2/4)</h5> -->
                        </div>
                        <div class="feature-border"></div>
                        <div class="feature-list mt-4 grid-responsive">
                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.cctv %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">CCTV</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.gps_bus_tracking_app %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">GPS Bus Tracking App</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.student_tracking_app %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Student Tracking App</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.student_tracking_app %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Student Tracking App</span>
                            </div>
                        </div>
                    </div>
                    <!-- Safty and security facilities start -->

                    <!-- ADVANCED FACILITIES facilities start -->
                    <div class="features my-5">
                        <div class="features-title d-flex justify-content-between align-items-center">
                            <h5 class="fw-700">ADVANCED FACILITIES</h5>
                            <!-- <h5>(2/4)</h5> -->
                        </div>
                        <div class="feature-border"></div>
                        <div class="feature-list mt-4 grid-responsive">
                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.alumni_association %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Alumni Association</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.day_care %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Day Care</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.meals %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Meals</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.medical_room %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Medical room</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.transportation %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Transportation</span>
                            </div>
                        </div>
                    </div>
                    <!-- ADVANCED FACILITIES facilities start -->

                    <!-- sports facilities start -->
                    <div class="features my-5">
                        <div class="features-title d-flex justify-content-between align-items-center">
                            <h5 class="fw-700">SPORTS</h5>
                            <!-- <h5>(2/4)</h5> -->
                        </div>
                        <div class="feature-border"></div>

                        <div class="feature-list mt-4 grid-responsive">
                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.skating %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Skating</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.horse_riding %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Horse Riding</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.gym %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Gym</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.indoor_sports %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Indoor Sports</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.outdoor_sports %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Outdoor Sports</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.swimming_pool %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Swimming pool</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.karate %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Karate</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.taekwondo %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Taekwondo</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.yoga %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Yoga</span>
                            </div>
                        </div>
                    </div>
                    <!-- sports facilities end -->

                    <!-- Lab facilities start -->
                    <div class="features my-5">
                        <div class="features-title d-flex justify-content-between align-items-center">
                            <h5 class="fw-700">LAB</h5>
                            <!-- <h5>(2/4)</h5> -->
                        </div>
                        <div class="feature-border"></div>

                        <div class="feature-list mt-4 grid-responsive">
                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.computer_lab %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Computer Lab</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.science_lab %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Science Lab</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.robotics_lab %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Robotics Lab</span>
                            </div>
                        </div>
                    </div>
                    <!-- Lab facilities end -->

                    <!-- Disabled friendly facilities start -->
                    <div class="features my-5">
                        <div class="features-title d-flex justify-content-between align-items-center">
                            <h5 class="fw-700">DISABLED FRIENDLY</h5>
                            <!-- <h5>(2/4)</h5> -->
                        </div>
                        <div class="feature-border"></div>

                        <div class="feature-list mt-4 grid-responsive">
                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.ramps %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Ramps</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.washrooms %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Washrooms</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.elevators %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Elevators</span>
                            </div>
                        </div>
                    </div>
                    <!-- Disabled friendly facilities end -->

                </div>
            </section>
        </div>
        <!-- infrastrucure tab ends -->

        <!-- extra tab starts -->
        <div class="tab-pane fade" id="extra" role="tabpanel" aria-labelledby="extra-tab">
            <section class="p-0">
                <div style="background: #FFF4E3;" class="py-5 px-4">
                    <p class="fw-500">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fringilla consectetur purus nulla
                        massa nibh. Arcu, facilisis cras elit massa porttitor posuere quam faucibus vulputate.
                        Tempus, porttitor et, nulla consequat, lobortis diam fermentum. Ante volutpat turpis turpis
                        pulvinar mauris, vel. Pharetra, vulputate bibendum dignissim egestas iaculis sit. Eu enim,
                        in bibendum elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fringilla
                        consectetur purus nulla massa nibh. Arcu, facilisis cras elit massa porttitor posuere quam
                        faucibus vulputate. Tempus, porttitor et, nulla consequat, lobortis diam fermentum. Ante
                        volutpat turpis turpis pulvinar mauris, vel. Pharetra, vulputate bibendum dignissim egestas
                        iaculis sit. Eu enim, in bibendum elit.
                    </p>

                    <!-- Extra curricular facilities start -->
                    <div class="features my-5">
                        <div class="features-title d-flex justify-content-between align-items-center">
                            <h5 class="fw-700">EXTRA CURRIULAR</h5>
                            <!-- <h5>(2/4)</h5> -->
                        </div>
                        <div class="feature-border"></div>
                        <div class="feature-list mt-4 grid-responsive">
                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.art_and_craft %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Art and craft</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.dance %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Dance</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.debate %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Debate</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.drama %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Drama</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.gardening %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Gardening</span>
                            </div>

                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.music %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Music</span>
                            </div>


                            <div class="feature-item d-flex gap-2 align-items-center m-1 m-md-2">
                                {% if sfc.picnics_and_excursion %}
                                    <img src="{% static 'assets/school-name-page/available.svg' %}">
                                {% else %}
                                    <img src="{% static 'assets/school-name-page/unavailable.svg' %}">
                                {% endif %}
                                <span class="fw-500">Picnics and Excursion</span>
                            </div>
                        </div>
                    </div>
                    <!-- Extra curricular facilities start -->
                    <!-- <div class="grid-responsive"> </div> -->
                </div>
            </section>
        </div>
        <!-- extra tab ends -->

        <!-- academics tab starts -->
        <div class="tab-pane fade" id="academics" role="tabpanel" aria-labelledby="academics-tab">
            <section class="p-0">
                <div style="background: #FFF4E3;" class="py-5 px-4">
                    <div class="d-flex justify-content-between mb-5">
                        <div>
                            <h5 class="fw-700 m-0">
                                School Timings and Vacation
                            </h5>
                            <p class="fw-500">lorem ipsum dolor sit amut</p>
                        </div>
                        <div>
                            <div class="d-flex gap-3">
                                <img src="{% static 'assets/school-name-page/language-icon.svg' %}" height="64px"
                                    width="64px">
                                <div>
                                    <h5 class="fw-700 m-0">
                                        School Timings and Vacation
                                    </h5>
                                    <p class="fw-500">lorem ipsum dolor sit amut</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h5 class="fw-700 m-0">
                        School Senior Secondary Streams
                    </h5>
                    <p class="fw-700 m-0 mb-2">
                        School Level & Classes
                    </p>
                    <p class="fw-500">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fringilla consectetur purus nulla
                        massa nibh. Arcu, facilisis cras elit massa porttitor posuere quam faucibus vulputate.
                        Tempus, porttitor et, nulla consequat, lobortis diam fermentum. Ante volutpat turpis turpis
                        pulvinar mauris, vel. Pharetra, vulputate bibendum dignissim egestas iaculis sit. Eu enim,
                        in bibendum elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fringilla
                        consectetur purus nulla massa nibh. Arcu, facilisis cras elit massa porttitor posuere quam
                        faucibus vulputate. Tempus, porttitor et, nulla consequat, lobortis diam fermentum. Ante
                        volutpat turpis turpis pulvinar mauris, vel. Pharetra, vulputate bibendum dignissim egestas
                        iaculis sit. Eu enim, in bibendum elit.
                    </p>

                    <h5 class="fw-700 mt-5">
                        School Senior Secondary Streams
                    </h5>
                    <p class="fw-500">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fringilla consectetur purus nulla
                        massa nibh. Arcu, facilisis cras elit massa porttitor posuere quam faucibus vulputate.
                        Tempus, porttitor et, nulla consequat, lobortis diam fermentum. Ante volutpat turpis turpis
                        pulvinar mauris, vel. Pharetra, vulputate bibendum dignissim egestas iaculis sit. Eu enim,
                        in bibendum elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fringilla
                        consectetur purus nulla massa nibh. Arcu, facilisis cras elit massa porttitor posuere quam
                        faucibus vulputate. Tempus, porttitor et, nulla consequat, lobortis diam fermentum. Ante
                        volutpat turpis turpis pulvinar mauris, vel. Pharetra, vulputate bibendum dignissim egestas
                        iaculis sit. Eu enim, in bibendum elit.
                    </p>
                </div>
        </div>
        <!-- academics tab ends -->

        <!-- contact tab starts -->
        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
            <section class="p-0">
                <div style="background: #FFF4E3;" class="py-5 px-4">
                    <div class="d-flex flex-column flex-md-row gap-3 mb-3">
                        <div class="contact-icon shadow">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div class="d-flex flex-column">
                            <h6 class="fw-700 m-0">Phone Number</h6>
                            <ul class="mt-2">
                            {% for n in sd.phone_no|str_to_arr %}

                                <li class="fw-500">{{ n }}</li>
                            {% empty %}
                                <li class="fw-500">N/A</li>
                            {% endfor %}
                            </ul>
                        </div>
                    </div>

                    <div class="d-flex flex-column flex-md-row gap-3 mb-3">
                        <div class="contact-icon shadow">
                            <i class="fas fa-at"></i>
                        </div>
                        <div class="d-flex flex-column">
                            <h6 class="fw-700 m-0">Email</h6>
                            <p class="fw-500">{{ sd.email }}</p>
                        </div>
                    </div>

                    <div class="d-flex flex-column flex-md-row gap-3 mb-3">
                        <div class="contact-icon shadow">
                            <i class="fas fa-globe"></i>
                        </div>
                        <div class="d-flex flex-column">
                            <h6 class="fw-700 m-0">Website</h6>
                            <p class="fw-500">{{ sd.webiste|urlize|default:"N/A" }}</p>
                        </div>
                    </div>

                    <div class="d-flex flex-column flex-md-row gap-3 mb-3">
                        <div class="contact-icon shadow">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="d-flex flex-column">
                            <h6 class="fw-700 m-0">Location</h6>
                            <p class="fw-500" style="width: 80%;">
                                {{ sd.school.address }}
                            </p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <!-- contact tab ends -->
    </div>
</div>
<!-- tabs end -->
{% endblock %}

{% block extrascript %}

<script>
    // variable declaration
    const ratingStars = document.querySelectorAll('.score')
    const ratingInput = document.querySelector('#rating')

    // global review list
    let review_list = []

    // pagination variable
    let reivew_page = 1

    // review url and user id
    let review_url = "{% url 'school_reviews' school.id %}"
    let userId = '{{ request.user.email }}'


    // Activating & Deactivating Star
    const handleSelect = (num) => {
        ratingInput.value = num;
        for (let i = 0; i < num; i++) {
            ratingStars[i].classList.remove('inactive')
        }
        for (let i = num; i < ratingStars.length; i++) {
            ratingStars[i].classList.add('inactive')
        }
    }

    // listening for mouseover event
    ratingStars.forEach(ele => {
        ele.addEventListener('mouseover', (e) => {
            let score = e.target.dataset.score
            handleSelect(score)
        })
    })


    /**
     * Submitting review form
     */
    $('#rating-form').submit(function (e) {
        e.preventDefault()
        let data = $(this).serialize()
        console.log(data)
        $.ajax({
            type: 'POST',
            url: '{% url "school_details" school.id  %}',
            data: $(this).serialize(),
            headers: { 'X-CSRFToken': '{{ csrf_token }}' },
            success: function (response) {
                $('#review-msg').html(
                    ` <small class="d-block alert alert-info alert-dismissible fade show mb-2" role="alert">
                        ${response.message}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </small>
                    `)
                $('#rating-form').trigger('reset')
                handleSelect(0)
                review_list = []
                getReviews(review_url + '?page=' + 1)
            },
            error: function (response) {
                $('#rating-form').trigger('reset')
                handleSelect(0)
                $('#review-msg').html(
                    ` <small class="d-block alert alert-danger alert-dismissible fade show mb-2" role="alert">
                        ${response.responseJSON.message}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </small>
                    `)
            }
        })
    })


    // loadmore reviews
    $('#btn-load-more').on('click', () => {
        reivew_page += 1
        getReviews(`${review_url}?page=${reivew_page}`)
    })


    /**
     * Fetching reviews
     */
    function getReviews(url) {
        $('#btn-load-more').text('Loading...').prop('disabled', true)

        $.ajax({
            type: 'GET',
            url: url,
            success: function (res) {
                $('#btn-load-more').text('Load more').prop('disabled', false)

                let data = JSON.parse(res)

                let reviews = data.map(obj => {
                    if (obj.fields.status) {
                        obj.fields.created_at = new Date(obj.fields.created_at).toDateString()

                        // delete review url
                        let delete_review_url = `${review_url}delete/${obj.pk}`
                        console.log(delete_review_url)
                        // obj.fields.created_at.toLocaleDateString()
                        return `
                                <div class="review-card shadow-sm p-3 bg-light rounded mb-3">
                                    ${
                                        (userId === obj.fields.user[0]) &&
                                        `<button data-delete-url="${delete_review_url}" class="btn btn-sm btn-info del-review-btn" onclick="deleteReview(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>`
                                    }
                                    <div class="d-flex gap-2 mb-2">
                                        <div class="align-middle bg-placeholder rounded" style="height: 70px; width: 70px;">
                                            <h2 class="fw-700 m-0 p-0">${obj.fields.user[0][0]}</h2>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">${obj.fields.user[0]}</h5>
                                            <small class="fw-500 text-muted">Wrote on ${obj.fields.created_at}</small>
                                            <p class="mb-0">${obj.fields.comment}</p>
                                        </div>
                                    </div>

                                    <div class="d-inline-flex justify-content-evenly gap-2">
                                        <div
                                            class="align-middle mt-2 bg-wine-berry rating-star ${(obj.fields.rating < 1) ? 'inactive' : ''}">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                        <div
                                            class="align-middle mt-2 bg-wine-berry rating-star ${(obj.fields.rating < 2) ? 'inactive' : ''}">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                        <div
                                            class="align-middle mt-2 bg-wine-berry rating-star ${(obj.fields.rating < 3) ? 'inactive' : ''}">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                        <div
                                            class="align-middle mt-2 bg-wine-berry rating-star ${(obj.fields.rating < 4) ? 'inactive' : ''}">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                        <div
                                            class="align-middle mt-2 bg-wine-berry rating-star ${(obj.fields.rating < 5) ? 'inactive' : ''}">
                                            <i class="fas fa-star text-white"></i>
                                        </div>
                                    </div>
                                </div>
                            `
                    }
                })

                // pushing mapped data
                review_list.push(reviews.join(''))

                // checking for available reviews
                if (review_list > 0 || review_list[0] == "") {
                    $('#reviews-card').html('<p>No reviews :(</p>')
                    $('#btn-load-more').addClass('d-none')
                } else {
                    $('#reviews-card').html(review_list)
                }
            },
            error: function (res) {
                $('#load-more').html(res.responseJSON.message)
                $('#btn-load-more').text('Load more').prop('disabled', false)
            }
        })
    }

    /**
     * Function to delete reviews
     */
    function deleteReview(e) {
        let url = e.dataset.deleteUrl;
        $.ajax({
            type: 'GET',
            url: url,
            success: function (res) {
                $('#review-msg').html(
                    ` <small class="d-block alert alert-info alert-dismissible fade show mb-2" role="alert">
                        ${res.message}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </small>
                    `)
                    review_list = []
                    getReviews(review_url + '?page=' + reivew_page)
            },
            error: function (res) {
                $('#review-msg').html(
                    ` <small class="d-block alert alert-info alert-dismissible fade show mb-2" role="alert">
                        ${res.responseJSON.message}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </small>
                    `)
            }
        })
    }

    // function call getReviews
    getReviews(review_url + '?page=' + reivew_page)
</script>
{% endblock %}